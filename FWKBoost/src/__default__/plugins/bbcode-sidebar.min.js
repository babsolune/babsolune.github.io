jQuery.fn.autoResize=function(){let e=e=>{e.style.height="",e.style.height=e.scrollHeight+"px"};return this.each((t,o)=>{o.style.overflow="hidden",e(o),jQuery(o).bind("input",t=>{e(t.target)})})},jQuery(".bbcode-sidebar > textarea").each(function(){var e,t=jQuery(this),o=jQuery(this).outerHeight(),s=t.offset(),i=t.siblings(".bbcode-bar"),r=t.siblings(".xmlhttprequest-preview"),u=t.closest(".form-element-textarea"),a=i.outerHeight();t.height(t[0].scrollHeight),r.appendTo(u),t.on("mouseup",function(o){var u=t.parent().outerHeight();e=o.pageY-s.top,a>e?i.css({top:"0.809em",bottom:"auto"}):e>u-a?i.css({top:"auto",bottom:"0.809em"}):i.css({top:e-a/2+"px",bottom:"auto"})}),jQuery(document).on("click",function(e){jQuery(e.target).hasClass("auto-resize")||jQuery(e.target).is("button")||jQuery(e.target).is("i")||t.is(":focus")?t.autoResize():t.css("height",o+"px")})});
