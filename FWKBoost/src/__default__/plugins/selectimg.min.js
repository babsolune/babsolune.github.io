!function(e){e.fn.extend({selectImg:function(t){return t=e.extend({ariaLabel:"Click to select"},t),this.each(function(){jQuery(this).hide();var e=jQuery(this).children("option"),s=jQuery(this).parent(),a=jQuery("<nav/>",{class:"cssmenu cssmenu-select cssmenu-horizontal",role:"combobox"}).prependTo(s),r=jQuery("<ul/>").appendTo(a),n=jQuery("<li/>",{class:"has-sub"}).prependTo(r),i=jQuery("<ul/>",{class:"options-list",role:"combobox list"}).appendTo(n),o=jQuery(this).val().length,l=jQuery("<a/>",{"aria-label":t.ariaLabel}).prependTo(n),u=jQuery("<span/>").appendTo(l),c=jQuery("<img/>").prependTo(l),d=jQuery("<i/>").prependTo(l);jQuery.each(e,function(){var e=jQuery(this).text(),t=jQuery(this).attr("data-option-img"),s=jQuery(this).attr("data-option-icon"),a=jQuery(this).attr("data-option-class"),r=jQuery(this).val(),n=jQuery(this).attr("selected"),p=jQuery(this).attr("disabled");o&&"selected"==n&&(l.addClass("cssmenu-title current").attr({"data-name":r,"data-tooltip-pos":"top"}),u.text(e),t&&c.attr("src",t).attr("alt",e),s&&d.addClass(s));var j=jQuery("<li/>",{value:r,class:a,role:"combobox option"}).appendTo(i),y=jQuery("<a/>").addClass("cssmenu-title").attr("data-name",r).appendTo(j);jQuery("<span/>").text(e).appendTo(y);if(n&&j.addClass("selected-option"),p&&(j.css("cursor","text"),y.css("pointer-events","none")),t)jQuery("<img/>").attr("src",t).attr("alt",e).prependTo(y);if(s)jQuery("<i/>").addClass(s).prependTo(y)});var p=jQuery(this),j=p.siblings("nav").find("ul li a");jQuery(j).on("click",function(e){jQuery(j).closest(".cssmenu-select").toggleClass("cssmenu-open"),e.preventDefault()}),jQuery(".options-list a").on("click",function(e){e.preventDefault(),jQuery(this).parent().addClass("selected-option");var t=jQuery(this).attr("data-name"),s=jQuery(this).text(),a=jQuery(this).find("img").attr("src"),r=jQuery(this).find("i").attr("class");jQuery(this).closest("nav").find(u).text(s),null!=a?jQuery(this).closest("nav").find(c).removeAttr("src").attr("src",a):jQuery(this).closest("nav").find(c).removeAttr("src"),null!=r?jQuery(this).closest("nav").find(d).removeClass().addClass(r):jQuery(this).closest("nav").find(d).removeClass(),jQuery(p).val(t).change(),jQuery(this).parent().siblings().removeClass("selected-option")}),jQuery(document).on("click",function(e){!1===jQuery(e.target).is(".cssmenu-select *")&&jQuery(".cssmenu-open").removeClass("cssmenu-open")})})}})}(jQuery);
