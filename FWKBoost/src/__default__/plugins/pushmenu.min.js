"use strict";!function(e,t){if("object"==typeof module&&"object"==typeof module.exports){if(!e.document)throw Error("HC Off-canvas Nav requires a browser to run.");module.exports=t(e)}else"function"==typeof define&&define.amd?define("pushmenu",[],t(e)):t(e)}("undefined"!=typeof window?window:this,e=>{const t=e.document,n=t.getElementsByTagName("html")[0];let s=0;const a="nav-open",l=function(i,o){if(o=o||{},"string"==typeof i&&(i="#"===i.charAt(0)&&-1===i.indexOf(" ")?t.querySelector(i):t.querySelectorAll(i)),!i)return!1;const r=l.Helpers;void 0!==o.maxWidth&&(r.deprecated("maxWidth","disableAt","option"),o.disableAt=o.maxWidth);let c=Object.assign({},{width:280,height:"auto",disableAt:!1,pushContent:null,swipeGestures:!0,expanded:!1,position:"left",levelOpen:"overlap",levelSpacing:40,levelTitles:!0,closeOpenLevels:!0,closeActiveLevel:!1,navTitle:null,navClass:"",disableBody:!0,closeOnClick:!0,closeOnEsc:!0,customToggle:null,activeToggleClass:null,bodyInsert:"prepend",keepClasses:!0,removeOriginalNav:!1,rtl:!1,insertClose:!0,insertBack:!0,levelTitleAsBack:!0,labelClose:"",labelBack:"Back"},o);c.ariaLabels=Object.assign({},{open:"Open Menu",close:"Close Menu",submenu:"Submenu"},o.ariaLabels);let d=[];const p=e=>{if(!d.length)return!1;let t=!1;"string"==typeof e&&(e=[e]);let n=e.length;for(let s=0;n>s;s++)-1!==d.indexOf(e[s])&&(t=!0);return t},u=function(l){function i(){const e=+this.dataset.level,t=+this.dataset.index;"true"===this.getAttribute("checked")?y(e,t):E(e,t)}function o(e){e.classList.remove(x),e.setAttribute("aria-expanded",!1)}function u(){return!1!==c.levelOpen&&"none"!==c.levelOpen}function v(){return j}function h(){return U.length?+Array.prototype.filter.call(C.querySelectorAll(".hc-chk"),e=>e.value==U[U.length-1])[0].dataset.level:0}function m(){return U.length?+Array.prototype.filter.call(C.querySelectorAll(".hc-chk"),e=>e.value==U[U.length-1])[0].dataset.index:0}function f(s,l){if(v()&&void 0===l)return;if(function(){if(v())return;j=!0,k.style.visibility="visible",k.setAttribute("aria-hidden",!1),k.classList.add(a),w&&(w.forEach(o),N&&(N.classList.add(x),N.setAttribute("aria-expanded",!0)));"expand"===c.levelOpen&&D&&clearTimeout(D);c.disableBody&&(P=e.pageYOffset||n.scrollTop||t.documentElement.scrollTop||t.body.scrollTop,t.documentElement.scrollHeight>t.documentElement.clientHeight&&n.classList.add("push-nav-yscroll"),t.body.classList.add("push-nav-open"),P&&(t.body.style.top=`${-P}px`));if(S){const e="x"===r.getAxis(c.position)?H:_;r.setTransform(S,e,c.position)}if(B)return void(B=!1);k._eventListeners.toggle&&k._eventListeners.toggle.forEach(e=>{e.fn(r.customEventObject("toggle",k,k,{action:"open"}),Object.assign({},c))});setTimeout(()=>{k._eventListeners.open&&k._eventListeners.open.forEach(e=>{e.fn(r.customEventObject("open",k,k),Object.assign({},c))})},O)}(),!u())return;let i;if("number"!=typeof s&&!r.isNumeric(s)||"number"!=typeof l&&!r.isNumeric(l))q?(i=Array.prototype.filter.call(C.querySelectorAll(".hc-chk"),e=>e.value==q)[0],!c.closeActiveLevel&&c.closeOpenLevels||(q=null)):!1===c.closeOpenLevels&&(i=(i=Array.prototype.filter.call(C.querySelectorAll(".hc-chk"),e=>"true"===e.getAttribute("checked")))[i.length-1]);else if(!(i=t.querySelector(`#${L}-${s}-${l}`)))return void console.warn(`HC Offcanvas Nav: level ${s} doesn't have index ${l}`);if(i){let e=[];if(s=+i.dataset.level,l=+i.dataset.index,s>1){const n=[];for(;i&&i!==t;i=i.parentNode)i.matches(".nav-wrapper")&&n.push(i);for(let t=0;t<n.length;t++){const s=n[t],a=+s.dataset.level;a>0&&e.push({level:a,index:+s.dataset.index})}e=e.reverse()}e.push({level:s,index:l});for(let t=0;t<e.length;t++)y(e[t].level,e[t].index,!1)}}function b(){if(v()){if(j=!1,S&&r.setTransform(S,!1),k.classList.remove(a),k.classList.remove("user-is-tabbing"),k.setAttribute("aria-hidden",!0),C.removeAttribute("style"),w&&w.forEach(o),"expand"===c.levelOpen&&-1!==["top","bottom"].indexOf(c.position)?E(0):u()&&(D=setTimeout(()=>{E(0)},"expand"===c.levelOpen?O:0)),c.disableBody&&(t.body.classList.remove("push-nav-open"),n.classList.remove("push-nav-yscroll"),P)){if(t.body.style.top="",t.body.scrollTop=P,n.scrollTop=P,"bottom"===c.position){const e=P;setTimeout(()=>{t.body.scrollTop=e,n.scrollTop=e},0)}P=0}k._eventListeners.toggle&&k._eventListeners.toggle.forEach(e=>{e.fn(r.customEventObject("toggle",k,k,{action:"close"}),Object.assign({},c))}),setTimeout(()=>{k.style.visibility="",k._eventListeners.close&&k._eventListeners.close.forEach(e=>{e.fn(r.customEventObject("close",k,k),Object.assign({},c))}),k._eventListeners["close.once"]&&k._eventListeners["close.once"].forEach(e=>{e.fn(r.customEventObject("close.once",k,k),Object.assign({},c))}),k.removeEventListener("close.once")},O)}}function g(e){return t=>{t&&(t.preventDefault(),t.stopPropagation()),e&&(N=e),j?b():f()}}function y(e,n,s=!0){const a=t.querySelector(`#${L}-${e}-${n}`),l=a.value,i=a.parentNode,o=i.closest(".nav-wrapper"),d=r.children(i,".nav-wrapper")[0];if(!1===s&&(d.style.transition="none"),a.setAttribute("checked",!0),o.classList.add("sub-level-open"),i.classList.add("level-open"),i.querySelectorAll("[aria-controls]")[0].setAttribute("aria-expanded",!0),!1===s&&setTimeout(()=>{d.style.transition=""},O),-1===U.indexOf(l)&&U.push(l),"overlap"===c.levelOpen&&(o.addEventListener("click",()=>E(e,n)),r.setTransform(C,e*c.levelSpacing,c.position),S)){const t="x"===r.getAxis(c.position)?H:_;r.setTransform(S,t+e*c.levelSpacing,c.position)}k._eventListeners["open.level"]&&k._eventListeners["open.level"].forEach(t=>{t.fn(r.customEventObject("open.level",k,d,{currentLevel:e,currentIndex:n}),Object.assign({},c))}),X&&(G(0,e,n),X=!1)}function E(e,n){for(let t=e;t<=Object.keys(I).length;t++)if(t===e&&void 0!==n)re(e,n,!0);else if(0!==e||c.closeOpenLevels)for(let n=0;n<I[t];n++)re(t,n,t===e);else;if(e>0&&k._eventListeners["close.level"]){const s=t.querySelector(`#${L}-${e}-${n}`).closest(".nav-wrapper");k._eventListeners["close.level"].forEach(t=>{t.fn(r.customEventObject("close.level",k,s,{currentLevel:e-1,currentIndex:m()}),Object.assign({},c))})}X&&(G(null,e-1),X=!1)}if(!l.querySelector("ul")&&"UL"!==l.tagName)return void console.error("%c! HC Offcanvas Nav:%c Navigation must contain <ul> element.","color: #fa253b","color: default");const L=`push-nav-${++s}`,A=r.printStyle(`pushmenu-id-${s}-style`),x=c.activeToggleClass||"toggle-open",k=r.createElement("nav",{id:L}),C=r.createElement("div",{class:"nav-container"});k.addEventListener("click",r.stopPropagation),k.appendChild(C);let $,O,T,w=null,N=null,S=null,M={},j=!1,B=!1,q=null,P=0,H=0,_=0,D=null,I={};const U=[];let X=!1;const z=[];let V=null,W=null,Q=!1,Y=!1;c.customToggle?w=r.getElements(c.customToggle):(w=[r.createElement("a",{href:"#"},r.createElement("span"))],l.insertAdjacentElement("afterend",w[0])),w&&w.length&&w.forEach(e=>{e.addEventListener("click",g(e)),e.classList.add("push-nav-trigger",L),e.setAttribute("role","button"),e.setAttribute("aria-label",(c.ariaLabels||{}).open),e.setAttribute("aria-controls",L),e.setAttribute("aria-expanded",!1),e.addEventListener("keydown",e=>{"Enter"!==e.key&&13!==e.keyCode||setTimeout(()=>{G(0,0)},0)})});const G=(e,n,s)=>{if("number"!=typeof n||"number"!=typeof e&&!z.length)return;let a=Array.prototype.filter.call(C.querySelectorAll(".nav-wrapper"),e=>e.getAttribute("data-level")==n&&("number"!=typeof s||"number"==typeof s&&e.getAttribute("data-index")==s))[0];if(a=r.children(a,".nav-content")[0],a=r.children(a,"ul"),a=r.children(a,"li"),a=r.children(a,":not(.nav-wrapper)"),a=Array.prototype.map.call(a,e=>Array.prototype.slice.call(e.querySelectorAll('[tabindex="0"], a[href], button, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select'))).flat(),!(a=Array.prototype.filter.call(a,e=>"-1"!==e.getAttribute("tabindex"))))return;k.classList.add("user-is-tabbing");const l=a[0],i=a[a.length-1];"number"==typeof e?a[e].focus():(z[z.length-1].focus(),z.pop()),t.removeEventListener("keydown.pushmenu"),t.addEventListener("keydown.pushmenu",e=>{"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?t.activeElement===l&&(e.preventDefault(),i.focus()):t.activeElement===i&&(e.preventDefault(),l.focus()))})},F=()=>{t.removeEventListener("keydown.pushmenu"),N&&setTimeout(()=>{N.focus()},O)},K=()=>{C.style.transition="none",k.style.display="block";const t=r.formatSizeVal(H=C.offsetWidth),n=r.formatSizeVal(_=C.offsetHeight);A.add(`.pushmenu.${L}.nav-position-left .nav-container`,`transform: translate3d(-${t}, 0, 0)`),A.add(`.pushmenu.${L}.nav-position-right .nav-container`,`transform: translate3d(${t}, 0, 0)`),A.add(`.pushmenu.${L}.nav-position-top .nav-container`,`transform: translate3d(0, -${n}, 0)`),A.add(`.pushmenu.${L}.nav-position-bottom .nav-container`,`transform: translate3d(0, ${n}, 0)`),A.insert(),k.style.display="",C.style.transition="",$=e.getComputedStyle(C).transitionProperty,O=r.toMs(e.getComputedStyle(C).transitionDuration),T=e.getComputedStyle(C).transitionTimingFunction,c.pushContent&&S&&$&&A.add(r.getElementCssTag(S),`transition: ${$} ${O}ms ${T}`),A.insert()},J=n=>{const s=!!w&&e.getComputedStyle(w[0]).display,l=!!c.disableAt&&`max-width: ${c.disableAt-1}px`,i=r.formatSizeVal(c.width),o=r.formatSizeVal(c.height),d=r.formatSizeVal(c.levelSpacing);(r.isNumeric(i)||-1!==i.indexOf("px"))&&(H=parseInt(i)),(r.isNumeric(o)||-1!==o.indexOf("px"))&&(_=parseInt(o)),p(["disableAt","position"])&&A.reset(),A.add(`.pushmenu.${L}`,"display: block",l),A.add(`.push-nav-original.${L}`,"display: none",l),s&&A.add(`.push-nav-trigger.${L}`,`display: ${s&&"none"!==s?s:"inline-flex"}`,l),-1!==["left","right"].indexOf(c.position)?A.add(`.pushmenu.${L} .nav-container`,`width: ${i}`):A.add(`.pushmenu.${L} .nav-container`,`height: ${o}`),A.add(`.pushmenu.${L}.nav-position-left .nav-container`,`transform: translate3d(-${i}, 0, 0);`),A.add(`.pushmenu.${L}.nav-position-right .nav-container`,`transform: translate3d(${i}, 0, 0);`),A.add(`.pushmenu.${L}.nav-position-top .nav-container`,`transform: translate3d(0, -${o}, 0);`),A.add(`.pushmenu.${L}.nav-position-bottom .nav-container`,`transform: translate3d(0, ${o}, 0);`),A.add(`.pushmenu.${L}.nav-levels-overlap.nav-position-left li.level-open > .nav-wrapper`,`transform: translate3d(-${d}, 0, 0)`,l),A.add(`.pushmenu.${L}.nav-levels-overlap.nav-position-right li.level-open > .nav-wrapper`,`transform: translate3d(${d}, 0, 0)`,l),A.add(`.pushmenu.${L}.nav-levels-overlap.nav-position-top li.level-open > .nav-wrapper`,`transform: translate3d(0, -${d}, 0)`,l),A.add(`.pushmenu.${L}.nav-levels-overlap.nav-position-bottom li.level-open > .nav-wrapper`,`transform: translate3d(0, ${d}, 0)`,l),A.insert(),(!n||n&&p("pushContent"))&&(S=c.pushContent?r.getElements(c.pushContent)[0]:null),C.style.transition="none";const u=k.classList.contains(a),v=["pushmenu",c.navClass||"",L,"nav-levels-"+(c.levelOpen||"none"),`nav-position-${c.position}`,c.disableBody?"disable-body":"",r.isIos?"is-ios":"",r.isTouchDevice?"touch-device":"",u?a:"",c.rtl?"rtl":"",!0!==c.insertClose||c.labelClose?"":"nav-close-button-empty"].join(" ").trim().replace(/  +/g," ");k.removeEventListener("click"),k.className=v,k.setAttribute("aria-hidden",!0),t.documentElement.style.setProperty("--nav-level-spacing",c.levelSpacing+"px"),c.disableBody&&k.addEventListener("click",b),n?K():setTimeout(K,0)},R=()=>{M=function e(n,s){const a=[];return Array.prototype.forEach.call(n,n=>{if("UL"!==n.tagName&&!(n instanceof HTMLHeadingElement))return;const l={tagName:n.tagName,id:s,htmlClass:n.getAttribute("class")||null,items:[]};n instanceof HTMLHeadingElement?l.content=r.clone(n,!1,!0):(null!==n.getAttribute("data-nav-active")&&(q=s,n.removeAttribute("data-nav-active")),Array.prototype.forEach.call(n.children,n=>{const s=null!==n.getAttribute("data-nav-custom-content");let a=s?n.children:Array.prototype.filter.call(n.children,e=>"UL"!==e.tagName&&!e.querySelector("ul")).concat(n.children.length?[]:[n.firstChild]);const i=s?[]:Array.prototype.slice.call(n.querySelectorAll("ul")),o=i.length?[].concat(Array.prototype.filter.call(i[0].parentNode.children,e=>"UL"===e.tagName||e instanceof HTMLHeadingElement)):[];let c=null;if(!a.length){let e="";for(let t=0;t<n.childNodes.length;t++)n.childNodes[t].nodeType===Node.TEXT_NODE&&(e+=n.childNodes[t].textContent.trim());a=[t.createTextNode(e)]}o.length&&(r.data(n,"hc-uniqid")?c=r.data(n,"hc-uniqid"):(c=Math.random().toString(36).substr(2),r.data(n,"hc-uniqid",c))),null!==n.getAttribute("data-nav-active")&&(q=c,n.removeAttribute("data-nav-active")),l.items.push({id:c,htmlClass:n.getAttribute("class")||"",content:a,custom:s,subnav:o.length?e(o,c):[],highlight:null!==n.getAttribute("data-nav-highlight")})})),a.push(l)}),a}((()=>"UL"===l.tagName?[l]:Array.prototype.filter.call(l.children,e=>"UL"===e.tagName||e instanceof HTMLHeadingElement))(),null)},Z=n=>{if(n){for(;C.firstChild;)C.removeChild(C.firstChild);I={}}!function n(s,a,l,o,d,p){const v=r.createElement("div",{class:`nav-wrapper nav-wrapper-${l}`,"data-level":l,"data-index":d||0}),h=r.createElement("div",{class:"nav-content"});if(v.addEventListener("click",r.stopPropagation),v.appendChild(h),a.appendChild(v),o&&(0===l||l>0&&"overlap"===c.levelOpen)){const t="string"==typeof o?o:r.clone(e.jQuery&&o instanceof e.jQuery&&o.length?o[0]:o,!0,!0);h.insertBefore(r.createElement("h2",{id:0===l?`${L}-nav-title`:null,class:0===l?"nav-title":"level-title"},t),h.firstChild),0===l&&"string"==typeof o&&k.setAttribute("aria-labelledby",`${L}-nav-title`)}let m=-1;if(s.forEach((e,a)=>{if("UL"!==e.tagName)return void h.appendChild(e.content);m++;const d=r.createElement("ul",{id:e.id?s.length>1?`menu-${e.id}-${m}`:`menu-${e.id}`:null,role:"menu","aria-level":l+1});h.appendChild(d),c.keepClasses&&e.htmlClass&&d.classList.add.apply(d.classList,e.htmlClass.split(" ")),e.items.forEach((e,s)=>{const a=e.content;if(e.custom){const t=r.createElement("li",{class:"nav-item nav-item-custom"},r.createElement("div",{class:"nav-custom-content"},Array.prototype.map.call(a,e=>r.clone(e,!0,!0))));return c.keepClasses&&e.htmlClass&&t.classList.add.apply(t.classList,e.htmlClass.split(" ")),void d.appendChild(t)}const p=Array.prototype.filter.call(a,e=>"A"===e.tagName||e.nodeType!==Node.TEXT_NODE&&e.querySelector("a"))[0];let h;p?(h=r.clone(p,!1,!0)).classList.add("nav-item-link"):h=r.createElement(e.subnav.length?"a":"span",{class:"nav-item-link"},Array.prototype.map.call(a,e=>r.clone(e,!0,!0))),"A"===h.tagName&&(h.setAttribute("tabindex","0"),h.setAttribute("role","menuitem"),h.getAttribute("href")||h.setAttribute("href","#")),p&&h.addEventListener("click",e=>{e.stopPropagation(),r.hasListener(p,"click")&&p.click()}),"#"===h.getAttribute("href")&&h.addEventListener("click",r.preventDefault),c.closeOnClick&&(u()?"A"!==h.tagName||"false"===h.dataset.navClose||null!==h.getAttribute("disabled")&&"false"!==h.getAttribute("disabled")||e.subnav.length&&(!h.getAttribute("href")||"#"===h.getAttribute("href").charAt(0))||h.addEventListener("click",b):"A"!==h.tagName||"false"===h.dataset.navClose||null!==h.getAttribute("disabled")&&"false"!==h.getAttribute("disabled")||h.addEventListener("click",b));const m=r.createElement("li",{class:"nav-item"});if(m.appendChild(h),d.appendChild(m),c.keepClasses&&e.htmlClass&&m.classList.add.apply(m.classList,e.htmlClass.split(" ")),e.highlight&&m.classList.add("nav-highlight"),r.wrap(h,r.createElement("div",{class:"nav-item-wrapper"})),e.subnav.length){const s=l+1,d=e.id;let p="";if(I[s]||(I[s]=0),m.classList.add("nav-parent"),u()){const n=I[s],l=r.createElement("input",{type:"checkbox",id:`${L}-${s}-${n}`,class:"hc-chk",tabindex:-1,"data-level":s,"data-index":n,value:d});l.addEventListener("click",r.stopPropagation),l.addEventListener("change",i),m.insertBefore(l,m.firstChild);const o=n=>{n.addEventListener("click",e=>{if(e.stopPropagation(),l.setAttribute("checked","true"!==l.getAttribute("checked")),"createEvent"in t){const e=t.createEvent("HTMLEvents");e.initEvent("change",!1,!0),l.dispatchEvent(e)}}),n.addEventListener("keydown",function(e){"Enter"!==e.key&&13!==e.keyCode||(X=!0,z.push(this))}),n.setAttribute("aria-controls",e.subnav.length>1?e.subnav.filter(e=>"UL"===e.tagName).map((e,t)=>`menu-${e.id}-${t}`).join(" "):`menu-${d}`),n.setAttribute("aria-haspopup","overlap"===c.levelOpen),n.setAttribute("aria-expanded",!1)};if(-1!==U.indexOf(d)&&(v.classList.add("sub-level-open"),v.addEventListener("click",()=>E(s,n)),m.classList.add("level-open"),l.setAttribute("checked",!0)),p=!0===c.levelTitles?a[0].textContent.trim():"",h.getAttribute("href")&&"#"!==h.getAttribute("href")){const e=r.createElement("a",{href:"#",class:"nav-next","aria-label":`${(c.ariaLabels||{}).submenu}: ${p}`,role:"menuitem",tabindex:0},r.createElement("span"));e.addEventListener("click",r.preventClick()),o(e),c.rtl?h.parentNode.appendChild(e):h.parentNode.insertBefore(e,h.nextSibling)}else h.appendChild(r.createElement("span",{class:"nav-next"},r.createElement("span"))),o(h)}else h.setAttribute("aria-expanded",!0);I[s]++,n(e.subnav,m,s,p,I[s]-1,"string"==typeof o?o:"")}})}),l&&void 0!==d&&!1!==c.insertBack&&"overlap"===c.levelOpen){const e=r.children(h,"ul"),t=c.levelTitleAsBack&&p||c.labelBack||"",n=r.createElement("a",{href:"#",class:"nav-back-button",role:"menuitem",tabindex:0},[t,r.createElement("span")]);if(!0===c.insertBack||0===c.insertBack){const e=r.createElement("div",{class:"nav-back"},n);h.insertBefore(e,r.children(h,":not(.level-title)")[0])}else{const t=r.createElement("li",{class:"nav-item nav-back"},n);r.insertAt(t,!0===c.insertBack?0:c.insertBack,e)}const s=()=>E(l,d);r.wrap(n,r.createElement("div",{class:"nav-item-wrapper"})),n.addEventListener("click",r.preventClick(s)),n.addEventListener("keydown",e=>{"Enter"!==e.key&&13!==e.keyCode||(X=!0)})}if(0===l&&!1!==c.insertClose){const e=r.createElement("a",{href:"#",class:"nav-close-button"+(c.labelClose?" has-label":""),role:"menuitem",tabindex:0,"aria-label":c.labelClose?"":(c.ariaLabels||{}).close},[c.labelClose||"",r.createElement("span")]);if(e.addEventListener("click",r.preventClick(b)),e.addEventListener("keydown",e=>{"Enter"!==e.key&&13!==e.keyCode||F()}),o&&!0===c.insertClose)h.insertBefore(r.createElement("div",{class:"nav-close"},e),h.children[1]);else if(!0===c.insertClose)h.insertBefore(r.createElement("div",{class:"nav-close"},e),h.firstChild);else{const t=r.children(h,"ul"),n=r.createElement("li",{class:"nav-item nav-close"},e);r.wrap(e,r.createElement("div",{class:"nav-item-wrapper"})),r.insertAt(n,c.insertClose,t)}}}(M,C,0,c.navTitle)},ee=e=>n=>{"left"!==c.position&&"right"!==c.position||(V=n.touches[0].clientX,W=n.touches[0].clientY,"doc"===e?Y||(t.addEventListener("touchmove",se,r.supportsPassive),t.addEventListener("touchend",ae,r.supportsPassive)):(Y=!0,C.addEventListener("touchmove",le,r.supportsPassive),C.addEventListener("touchend",ie,r.supportsPassive)))},te=(t,n)=>{e.addEventListener("touchmove",r.preventDefault,r.supportsPassive),k.style.visibility="visible",C.style[r.browserPrefix("transition")]="none",r.setTransform(C,t,c.position),S&&(S.style[r.browserPrefix("transition")]="none",r.setTransform(S,n,c.position))},ne=(t,n=!0,s=!1,a=!1)=>{e.removeEventListener("touchmove",r.preventDefault,r.supportsPassive),C.style[r.browserPrefix("transition")]="",r.setTransform(C,s,c.position),S&&(S.style[r.browserPrefix("transition")]="",r.setTransform(S,a,c.position)),"open"===t?f():(b(),n?setTimeout(()=>{k.style.visibility=""},O):k.style.visibility="")},se=e=>{let n=0-(V-e.touches[0].clientX);const s="overlap"===c.levelOpen?h()*c.levelSpacing:0,a=H+s;n="left"===c.position?Math.min(Math.max(n,0),a):Math.abs(Math.min(Math.max(n,-a),0)),("left"===c.position&&50>V||"right"===c.position&&V>t.body.clientWidth-50)&&(Q=!0,te(0-(H-n),Math.abs(n)))},ae=e=>{if(t.removeEventListener("touchmove",se),t.removeEventListener("touchend",ae),!Q)return;const n=e.changedTouches[e.changedTouches.length-1];let s=0-(V-n.clientX);const a="overlap"===c.levelOpen?h()*c.levelSpacing:0,l=H+a;(s="left"===c.position?Math.min(Math.max(s,0),l):Math.abs(Math.min(Math.max(s,-l),0)))?ne(s>70?"open":"close"):ne("close",!1),V=null,W=null,Q=!1},le=e=>{let t=0-(V-e.touches[0].clientX),n=0-(W-e.touches[0].clientY);if(Math.abs(n)>Math.abs(t))return;const s="overlap"===c.levelOpen?h()*c.levelSpacing:0,a=H+s;t="left"===c.position?Math.min(Math.max(t,-a),0):Math.min(Math.max(t,0),a),("left"===c.position&&0>t||"right"===c.position&&t>0)&&(Q=!0,te(-Math.abs(t)+s,a-Math.abs(t)))},ie=e=>{if(C.removeEventListener("touchmove",le),C.removeEventListener("touchend",ie),Y=!1,!Q)return;const t=e.changedTouches[e.changedTouches.length-1];let n=0-(V-t.clientX);const s="overlap"===c.levelOpen?h()*c.levelSpacing:0,a=H+s;(n="left"===c.position?Math.abs(Math.min(Math.max(n,-a),0)):Math.abs(Math.min(Math.max(n,0),a)))===a?ne("close",!1):n>50?ne("close"):ne("open",!0,s,a),V=null,W=null,Q=!1};J(),R(),Z(),!0===c.removeOriginalNav?l.parentNode.removeChild(l):l.classList.add("push-nav-original",L),"prepend"===c.bodyInsert?t.body.insertBefore(k,t.body.firstChild):"append"===c.bodyInsert&&t.body.appendChild(k),!0===c.expanded&&(B=!0,f()),c.swipeGestures&&(C.addEventListener("touchstart",ee("nav"),r.supportsPassive),t.addEventListener("touchstart",ee("doc"),r.supportsPassive)),c.closeOnEsc&&t.addEventListener("keydown",function(e){if(v()&&("Escape"===e.key||27===e.keyCode)){const e=h();0===e?(b(),F()):(E(e,m()),G(null,e-1))}});const oe=r.debounce(K,500);e.addEventListener("resize",oe,r.supportsPassive);const re=(e,n,s)=>{const a=t.querySelector(`#${L}-${e}-${n}`);if(!a)return;const l=a.value,i=a.parentNode,o=i.closest(".nav-wrapper");if(a.setAttribute("checked",!1),o.classList.remove("sub-level-open"),i.classList.remove("level-open"),i.querySelectorAll("[aria-controls]")[0].setAttribute("aria-expanded",!1),-1!==U.indexOf(l)&&U.splice(U.indexOf(l),1),s&&"overlap"===c.levelOpen&&(o.removeEventListener("click"),o.addEventListener("click",r.stopPropagation),r.setTransform(C,(e-1)*c.levelSpacing,c.position),S)){const t="x"===r.getAxis(c.position)?H:_;r.setTransform(S,t+(e-1)*c.levelSpacing,c.position)}};return k.on=((e,t)=>{k.addEventListener(e,t)}),k.off=((e,t)=>{k.removeEventListener(e,t)}),k.getSettings=(()=>Object.assign({},c)),k.isOpen=v,k.open=f,k.close=b,k.toggle=g(null),k.update=((e,t)=>{if(d=[],"object"==typeof e){for(let t in e)c[t]!==e[t]&&d.push(t);c=Object.assign({},c,e)}if(!0===e||!0===t){if(c.removeOriginalNav)return void console.warn("%c! HC Offcanvas Nav:%c Can't update because original navigation has been removed. Disable `removeOriginalNav` option.","color: #fa253b","color: default");J(!0),R(),Z(!0)}else J(!0),Z(!0)}),k};if(Array.isArray(i)||i instanceof NodeList){const e=[];for(let t=0;t<i.length;t++)e.push(u(i[t]));return e.length>1?e:e[0]}return u(i)};if(void 0!==e.jQuery){const t=e.jQuery,n="pushmenu";t.fn.extend({pushmenu:function(e){return this.length?this.each(function(){let s=t.data(this,n);s?s.update(e):(s=new l(this,e),t.data(this,n,s))}):this}})}return e.pushmenu=e.pushmenu||l,l});
