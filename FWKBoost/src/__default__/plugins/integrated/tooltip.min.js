jQuery.fn.tooltip=function(t,e,o){if(0==this.length)return this;t||(labelText=this.attr("data-tooltip"),labelText||(labelText=this.attr("aria-label"))),e=void 0===e||null===e?"all":e;var a=""!==(o=o||"")?o:"",i=this.outerWidth(),l=this.outerHeight(),r={t:this.offset().top,r:this.offset().left+i,b:this.offset().top+l,l:this.offset().left};for(var s in r)r[s]=parseInt(r[s]);void 0===$("#tooltip")[0]?$("body").append('<div id="tooltip" class="tooltip '+a+'" ></div>'):$("#tooltip").attr("class","tooltip "+o);var n=$("#tooltip");n.html(labelText);var h=parseFloat(n.outerWidth()),c=parseFloat(n.outerHeight()),p=0,f=0;switch(e.split(",").length>0&&(e=function(){var t=e.split(",");if(1==t.length)switch(t[0]){case"all":t=["b","l","t","r"];break;case"hor":t=["l","r"];break;case"ver":t=["b","t"]}for(var o=$(window).height()-($(window).scrollTop()+r.b),a=r.l-$(window).scrollLeft(),s=r.t-$(window).scrollTop(),n=$(window).width()-r.r+$(window).scrollLeft(),p=(h-i)/2,f=(c-l)/2,u=0;u<t.length;u++)switch(0>"toprightbottomleft".search(t[u])||(t[u]=t[u][0]),t[u]){case"b":if(o>c&&a>p&&n>p)return"b";break;case"l":if(a>h&&s>f&&o>f)return"l";break;case"t":if(s>c&&a>p&&n>p)return"t";break;case"r":if(n>h&&s>f&&o>f)return"r"}return"b"}()),e){case"b":p=parseInt(r.l+i/2-h/2),f=parseInt(r.t+l);break;case"l":p=parseInt(r.l-h),f=parseInt(r.t+l/2-c/2);break;case"t":p=parseInt(r.l+i/2-h/2),f=parseInt(r.t-c);break;case"r":p=parseInt(r.l+i),f=parseInt(r.t+l/2-c/2);break;default:p=parseInt(r.l+i/2-h/2),f=parseInt(r.t+l)}return n.css({opacity:1,visibility:"visible",left:p,top:f}).addClass("position-"+e),this.leave=function(){n.css({opacity:0,visibility:"hidden"})},this._check=function(){this.closest("html").length||this.leave()},this};var tooltipController=function(t){function e(t){var e=jQuery(t.target).closest(a);if((o=e.is(a)&&!e.is(o)?e:o||e).is(a)){var l=o.attr("data-tooltip-class")||"",r=o.attr("data-tooltip-pos")||"all";o.tooltip(null,r,l),jQuery(o).off("mouseleave touchend",i).one("mouseleave touchend",i)}}var o,a="[aria-label]",i=function(t){jQuery(o).length>0&&o.leave(),o=void 0};return $(document).off("mouseover touchstart",e).on("mouseover touchstart",e),this}();
